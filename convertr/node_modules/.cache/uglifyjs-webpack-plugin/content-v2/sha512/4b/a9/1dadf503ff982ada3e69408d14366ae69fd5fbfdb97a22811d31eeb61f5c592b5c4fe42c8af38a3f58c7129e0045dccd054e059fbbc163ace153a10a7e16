{"code":"!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){\"use strict\";r.r(t);const n=\"https://free.currencyconverterapi.com/api/v5/convert\",o=e=>(M.toast({html:\"Updating to the latest and greatest version ...\"}),e.postMessage({action:\"skipWaiting\"}),e),s=e=>(e.addEventListener(\"statechange\",()=>{\"installed\"===e.state&&o(e)}),e),c=(e,[t,r,...o],s=[])=>void 0===t?s:void 0===r?(s.push(fetch(`${n}?q=${e}_${t}&compact=ultra`)),s):(s.push(fetch(`${n}?q=${e}_${t},${e}_${r}&compact=ultra`)),c(e,o,s)),a=()=>{new Promise(e=>{navigator.serviceWorker||e(),navigator.serviceWorker.register(\"/convertr/sw.js\",{scope:\"/convertr/\"}).then(t=>{t.waiting?e(o(t.waiting)):t.installing?e(s(t.installing)):t.addEventListener(\"updatefound\",()=>s(t.installing))})}).then(()=>console.log(\"Registered Service Worker\")).catch(e=>console.error(e))},i=/\\s+/,l=/\\s+>|to|in\\s+/,u=/^(\\d+\\s+)?[a-zA-Z]{3}\\s+>|to|in\\s+[a-zA-Z]{3}(\\s*,\\s*[a-zA-Z]{3})*$/,d=(e=\"\")=>e.trim(),f=(e=\"\",t=/\\s*,\\s*/)=>e.split(t),p=()=>new Promise(requestAnimationFrame);let m,v,y;const h=(e,t,r,n)=>{(e=>{return Object.keys(e).reduce((e,t)=>{const[r,n]=t.split(/_/);return[...e,{from:r,to:n,key:t}]},[])})(e).forEach(({key:o,from:s,to:c})=>{const a=(parseFloat(e[o])*n).toFixed(2),{currencyName:i}=r[c],{currencyName:l}=r[s];0===t&&(v.textContent=`${n} ${l.toLowerCase()}`);const u=document.createElement(\"li\");u.textContent=`${a} ${i.toLowerCase()}`,y.appendChild(u)})},g=(e,t)=>fetch(\"https://free.currencyconverterapi.com/api/v5/countries\").then(e=>e.json()).catch(console.error).then(({results:t})=>e.reduce((e,r)=>{const n=Object.values(t).find(({currencyId:e,currencyName:t})=>\"USD\"===r?e===r&&t.startsWith(\"United States\"):e===r);return void 0!==n?{...e,...{[n.currencyId]:n}}:e},{})).then(e=>((e,t)=>(r,n)=>{h(r,n,e,t)})(e,t));var L=e=>{const{keyCode:t,target:{value:r}}=e;if(13!==t)return;const n=d(r);if(!1===u.test(n))return;const[o,s]=f(n,l),a=f(s).filter(e=>\"\"!==e).map(e=>d(e)),h=d(o).split(i);let L,S;1===h.length?[L]=h:2===h.length&&([S,L]=h),m=m||document.querySelector(\".preloader-wrapper\"),p().then(()=>m.classList.add(\"active\")),Promise.all(c(L,a)).then(e=>e.filter(({status:e})=>200===e).map(e=>e.json())).then(e=>{Promise.all(e).then(e=>{((e,t,r=1)=>{v=v||document.querySelector(\"#src-result\"),y=y||document.querySelector(\"#dest-result\"),g(t,r).then(t=>{y.innerHTML=\"\",v.innerHTML=\"\";const r=document.querySelector(\"#converter-result-wrap\");r.classList.contains(\"has-results\")||r.classList.add(\"has-results\"),e.forEach(t)})})(e,[L,...a],S),m=m||document.querySelector(\".preloader-wrapper\"),p().then(()=>m.classList.remove(\"active\"))})})};let S,b,w=!1;const q=()=>{b=b||document.querySelectorAll(\".layer.switchable\"),Array.from(b).forEach(e=>{e.classList.contains(\"expanded\")?e.classList.remove(\"expanded\"):e.classList.add(\"expanded\")})},$=()=>{(S=S||document.querySelector(\"body\")).classList.remove(\"offline\"),!0===w&&(M.toast({html:\"your connetion has been restored!\"}),w=!1)},j=()=>{M.toast({html:\"you no longer have connetion!\"})},x=()=>{(S=S||document.querySelector(\"body\")).classList.add(\"offline\"),w=!0,j()};document.addEventListener(\"DOMContentLoaded\",()=>{M.FormSelect.init(document.querySelectorAll(\"select\")),document.querySelector(\"#omnibox\").addEventListener(\"keyup\",L),document.querySelector(\"#mode-switch\").addEventListener(\"click\",q),document.querySelector(\"#offline\").addEventListener(\"click\",j),window.addEventListener(\"online\",$),window.addEventListener(\"offline\",x),void 0!==navigator.onLine&&!1===navigator.onLine&&x(),a()})}]);","extractedComments":[]}